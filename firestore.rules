/**
 * @file Firestore Security Rules
 * @description This ruleset enforces a public read policy for Categories and Tags, with restricted write access.
 *
 * Data Structure:
 * - /categories/{categoryId}: Stores category data.
 * - /tags/{tagId}: Stores tag data.
 *
 * Key Security Decisions:
 * - Public read access for both categories and tags to facilitate content discovery.
 * - Write operations are completely disabled in this prototype. All writes are denied to avoid unintended modifications.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to Categories. Denies all write operations.
     * @path /categories/{categoryId}
     * @allow (get, list): Any user can read category data.
     * @deny (create, update, delete): No user can create, update, or delete categories.
     * @principle Public read access with no write access.
     */
    match /categories/{categoryId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to Tags. Denies all write operations.
     * @path /tags/{tagId}
     * @allow (get, list): Any user can read tag data.
     * @deny (create, update, delete): No user can create, update, or delete tags.
     * @principle Public read access with no write access.
     */
    match /tags/{tagId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}